{% extends 'base.html' %}

{% block head %}
  <link rel="stylesheet" href="/static/css/suggests/result.css">
{% endblock %}

{% block body %}

<h1>検索結果</h1>
<div class="container">

  <p class="logo">
    <img src="/static/images/shop_logo.jpg" alt="お店のロゴ">
  </p>

  <h1>おすすめの洋服</h1>

  <div class="container item-container">
    <div class="row">
      {%for item in items%}
        <div class="item col-4 text-center"
              onclick="selectItem(this)"
              data-left="{{ item.display_area_x }}"
              data-top="{{ item.display_area_y }}"
          >
          <image src="{{ item.image_url }}" alt="商品画像">
          <h4 class="mt-3">{{ item.name }}</h4>
          <p class="h5">￥{{ item.price }}</p>
        </div>
      {% endfor %}
    </div>
  </div>

  <div class="shop-floor">
    <img src="/static/images/shop_floor.png" alt="店内画像" class="w-100">
    <i class="fa-solid fa-location-dot fa-2xl icon-overlay"></i>
  </div>
</div>

<script>
  function selectItem(element) {
    // 選択されたアイテムの icon-overlay を表示
    var iconOverlay = $('.icon-overlay');
    var top = $(element).data('top');
    var left = $(element).data('left');
    iconOverlay.css({
      display: 'block',
      top: `${top}%`,
      left: `${left}%`,
    });
  }
</script>
{% endblock %}